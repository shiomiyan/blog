---
import Container from "@components/Container.astro";
import { SITE, SOCIALS } from "@consts";

import TwitterIcon from "../assets/icons/twitter.svg";
import GitHubIcon from "../assets/icons/github.svg";
import MastodonIcon from "../assets/icons/mastodon.svg";
import BlueskyIcon from "../assets/icons/bluesky.svg";
import TagsIcon from "../assets/icons/tags.svg";
import RssIcon from "../assets/icons/rss.svg";
import SearchIcon from "../assets/icons/search.svg";

const SVGComponents: Record<string, any> = {
	twitter: TwitterIcon,
	github: GitHubIcon,
	mastodon: MastodonIcon,
	bluesky: BlueskyIcon,
};
---

<header transition:persist>
	<Container>
		<div class="flex flex-wrap justify-between gap-y-2">
			<a href="/">
				<div class="font-semibold">
					{SITE.TITLE}
				</div>
			</a>
			<nav class="flex items-center gap-2 text-sm">
				{
					SOCIALS.map((SOCIAL) => {
						const SVGComponent = SVGComponents[SOCIAL.SVG_NAME];
						return (
							<a
								href={SOCIAL.HREF}
								aria-label={`${SITE.TITLE} on ${SOCIAL.NAME}`}
								target="_blank"
								rel="noopener noreferer"
							>
								<SVGComponent width={20} height={20} />
							</a>
						);
					})
				}
				<a href="/tags" aria-label="All tags on this site">
					<TagsIcon width={20} height={20} />
				</a>

				<a href="/rss.xml" aria-label="RSS feed for blog.736b.moe">
					<RssIcon width={20} height={20} />
				</a>

				<button
					id="magnifying-glass"
					aria-label="Search"
					class="flex items-center rounded-sm border border-black/15 bg-neutral-100 px-2 py-1 text-xs transition-colors duration-300 ease-in-out hover:bg-black/5 hover:text-black focus-visible:bg-black/5 focus-visible:text-black"
				>
					<SearchIcon width={16} height={16} />
					&nbsp;Search
				</button>
			</nav>
		</div>
	</Container>
</header>
